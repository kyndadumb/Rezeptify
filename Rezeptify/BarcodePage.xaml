<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:zxing="clr-namespace:ZXing.Net.Maui.Controls;assembly=ZXing.Net.MAUI.Controls"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:local="clr-namespace:Rezeptify"
             x:Class="Rezeptify.BarcodePage"
             Title="BarcodePage">
    <ContentPage.Resources>
        <local:BarcodeEventArgsConverter x:Key="BarcodeCon"/>
    </ContentPage.Resources>
    <VerticalStackLayout>
        <Label 
            Text="Welcome to .NET MAUI!"
            VerticalOptions="Center" 
            HorizontalOptions="Center" />
        <zxing:CameraBarcodeReaderView IsTorchOn="{Binding TorchEnabled}">
            <zxing:CameraBarcodeReaderView.Behaviors>
                <toolkit:EventToCommandBehavior EventName="BarcodesDetected" Command="{Binding CMD_BarcodeScanned}" EventArgsConverter="{StaticResource BarcodeCon}"/>
            </zxing:CameraBarcodeReaderView.Behaviors>
        </zxing:CameraBarcodeReaderView>
        <Grid>
            <Button Text="ZurÃ¼ck"/>
            <Button Text="Licht umschalten"/>
            <Button Text="Weiter"/>
        </Grid>
    </VerticalStackLayout>
</ContentPage>